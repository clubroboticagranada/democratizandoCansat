<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="exe_highlighter.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>MicroSD | Democratizando CANSAT </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Pedro Ruiz Fernández" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.8 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="exe_highlighter.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site exe-auto-math" id="exe-node-15"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Democratizando CANSAT</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Democratizando CANSAT</a></li>
   <li><a href="hardware.html" class="daddy">Hardware</a>
   <ul class="other-section">
      <li><a href="ttgo_lora32_v21_16.html" class="daddy">TTGO LoRa32 V2.1_1.6</a>
      <ul class="other-section">
         <li><a href="descripcin_de_producto.html" class="no-ch">Descripción de producto</a></li>
         <li><a href="caractersticas_y_pinout.html" class="no-ch">Características y PinOUT</a></li>
      </ul>
      </li>
      <li><a href="conexionado.html" class="no-ch">Conexionado</a></li>
      <li><a href="paracaidas.html" class="daddy">Paracaidas</a>
      <ul class="other-section">
         <li><a href="calculo_radio.html" class="no-ch">Calculo Radio</a></li>
         <li><a href="trazado_de_gores_piezas.html" class="no-ch">Trazado de gores (piezas)</a></li>
      </ul>
      </li>
      <li><a href="estructura_3d.html" class="no-ch">Estructura 3D</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="software.html" class="current-page-parent daddy">Software</a>
   <ul>
      <li class="current-page-parent"><a href="ide_de_arduino.html" class="current-page-parent daddy">IDE de Arduino</a>
      <ul>
         <li><a href="comunicaciones_lora.html" class="no-ch">Comunicaciones LoRa</a></li>
         <li id="active"><a href="microsd.html" class="active no-ch">MicroSD</a></li>
      </ul>
      </li>
      <li><a href="arduin_oblocks.html" class="daddy">Arduin oblocks</a>
      <ul class="other-section">
         <li><a href="sensores_en_arduin_oblocks.html" class="no-ch">Sensores en arduin oblocks</a></li>
      </ul>
      </li>
      <li><a href="integracin.html" class="no-ch">Integración</a></li>
      <li><a href="recepcin_de_datos_por_puerto_serie_y_graficado_en_tiempo_real.html" class="no-ch">Recepción de datos por puerto serie y graficado en tiempo real</a></li>
   </ul>
   </li>
   <li><a href="fuentes.html" class="no-ch">Fuentes</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="comunicaciones_lora.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="arduin_oblocks.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">MicroSD</h1></header>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id22">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">PinOUT de la MicroSD</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta22_120_2" class="block iDevice_content">
<div class="exe-text"><p>Para definir el conexionado en la librería que trabaja sobre el lector microSD, debemos conocer primero el pinout del mismo que está conectado en puerto SPI. Los pines del puerto SPI del lector son:</p>
<ul>
<li>CS: IO13</li>
<li>MOSI: IO15</li>
<li>MISO: IO2</li>
<li>SCK: IO14</li>
</ul>
<p><img src="tabla02.png" alt="pinout microsd" width="301" height="556" /></p>
<p>   </p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id23">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Librerías</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta23_121_2" class="block iDevice_content">
<div class="exe-text"><p>Para trabajar con la MicroSD debemos agregar la librerías que nos ayuda a trabajar con el lector en el IDE de Arduino. Para ello primero debemos descargarnos la librería de <a href="http://localhost:51235/cansat/resources/esp32-micro-sdcard-master.zip" target="_blank" rel="noopener">aquí</a>, y la descomprimimos. Más tarde copiamos la carpeta descomprimida en la carpeta de librerias del IDE de Arduino en tu equipo (/usuario/Arduino/libraries).</p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FileAttachIdeviceInc em_iDevice em_iDevice_assignment" id="id24">
<div class="iDevice emphasis1" >
<header class="iDevice_header"><h1 class="iDeviceTitle">libreria microsd</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta24_82" class="block iDevice_content">

</div>
<ul class='exeFileList'><li><a href='esp32-micro-sdcard-master.zip' target='_blank'>esp32-micro-sdcard-master.zip<span> (Ventana nueva)</span></a></li>
</ul></div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id25">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Ejemplo</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta25_123_2" class="block iDevice_content">
<div class="exe-text"><div class="highlighted-code language-c line-numbers">
<div>
<pre><code>/*
  SD card read/write
 
 This example shows how to read and write data to and from an SD card file 	
 The circuit:
  created   Nov 2010  by David A. Mellis
 modified 9 Apr 2012  by Tom Igoe
  This example code is in the public domain.
Adaptado por Pedro Ruiz para placa TTGO LoRa32 V2.1_1.6, con chip esp32 pico d-4
El programa abre el archivo y escribe del 0 al 9 en el y posteriormente lee el contenido del archivo
 */

#include &lt;SPI.h&gt;
#include &lt;mySD.h&gt;

ext::File myFile;
int contador = 0;  // inicializamos contador

// change this to match your SD shield or module;
// para TTGO LoRa32 V2.1_1.6 CS=13
const int chipSelect = 13;

void setup() {
  //Open serial communications and wait for port to open:
  Serial.begin(115200);
  Serial.print("Initializing SD card...");

  pinMode(SS, OUTPUT);

  if (!SD.begin(13, 15, 2, 14)) {  //definición de pines CS,MOSI,MISO,SCK
    Serial.println("initialization failed!");
    return;
  }
  Serial.println("initialization done.");

  for (contador = 0; contador &lt; 10; contador++) {

    myFile = SD.open("prueba.csv", FILE_WRITE);

    // if the file opened okay, write to it:
    if (myFile) {
      Serial.print("Writing to prueba.csv...");
      myFile.println(contador);
      // close the file:
      myFile.close();
      Serial.print("done.");
      Serial.println(contador);
    } else {
      // if the file didn't open, print an error:
      Serial.println("error opening prueba.csv");
    }
    delay(1000);
  }

  //open the file for reading:
  myFile = SD.open("prueba.csv");
  if (myFile) {
    Serial.println("prueba.csv:");
    // read from the file until there's nothing else in it:
    while (myFile.available()) {
      Serial.write(myFile.read());
    }
    // close the file:
    myFile.close();
  } else {
    // if the file didn't open, print an error:
    Serial.println("error opening prueba.csv");
  }
}

void loop() {
}
</code></pre>
</div>
</div>
<p></p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FileAttachIdeviceInc em_iDevice em_iDevice_assignment" id="id28">
<div class="iDevice emphasis1" >
<header class="iDevice_header"><h1 class="iDeviceTitle">ejemplo microsd</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta28_82" class="block iDevice_content">

</div>
<ul class='exeFileList'><li><a href='nanosdcard2.ino' target='_blank'>nanosdcard2.ino<span> (Ventana nueva)</span></a></li>
</ul></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="comunicaciones_lora.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="arduin_oblocks.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<footer id="siteFooter">Pedro Ruiz Fernández</footer></div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_style_js.js"></script></body></html>